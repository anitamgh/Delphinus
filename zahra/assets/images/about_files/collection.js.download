(function(i){i(document).ready(function(){r.init()}),i(".collection-sidebar")&&History.Adapter.bind(window,"statechange",function(){var t=History.getState();if(!r.fillterClick){r.filterParams();var e=r.filterCreateUrl();r.filterGetContent(e),r.resetFilter()}r.fillterClick=!1});var r={init:function(){this.initCollectionFilter()},initReview:function(){},initToggle:function(){},filterCategories:function(){},fillterTagEvents:function(){i("body").delegate('.filter-tag a:not(".clear"), .filter-tag label',"click",function(t){i(this).toggleClass("active");var e=[];if(Shopify.queryParams.constraint&&(e=Shopify.queryParams.constraint.split("+")),!window.filter_mul_choice&&!i(this).prev().is(":checked")){var a=i(this).parents(".filter-tag").find("input:checked");if(a.length>0){var n=a.val();if(n){var l=e.indexOf(n);l>=0&&e.splice(l,1)}}}var n=i(this).prev().val();if(n){var l=e.indexOf(n);l>=0?e.splice(l,1):e.push(n)}e.length?Shopify.queryParams.constraint=e.join("+"):delete Shopify.queryParams.constraint,r.filterAjaxClick(),t.preventDefault()})},filterMapClearAll:function(){i("body").delegate("click",".refined-widgets a.clear-all",function(t){delete Shopify.queryParams.constraint,delete Shopify.queryParams.q,r.filterAjaxClick(),t.preventDefault()}),i("body").delegate(".filter-block .clear","click",function(t){var e=[],a=i(this).parent().parent();Shopify.queryParams.constraint&&(e=Shopify.queryParams.constraint.split("+")),a.find("input:checked").each(function(){var l=i(this),n=l.val();if(n){var o=e.indexOf(n);o>=0&&e.splice(o,1)}}),a.find("a").each(function(){i(this).removeClass("active")}),e.length?Shopify.queryParams.constraint=e.join("+"):delete Shopify.queryParams.constraint,r.filterAjaxClick(),t.preventDefault()})},filterMapClear:function(){i(".filter-tag").each(function(){var t=i(this);t.find("input:checked").length>0&&t.find(".clear").show()})},filterParams:function(){if(Shopify.queryParams={},location.search.length)for(var t,e=0,a=location.search.substr(1).split("&");e<a.length;e++)t=a[e].split("="),t.length>1&&(Shopify.queryParams[decodeURIComponent(t[0])]=decodeURIComponent(t[1]))},filterMapEvents:function(){r.fillterTagEvents()},resetFilter:function(){i(".filter-custom .active, .filter-links .active").removeClass("active"),i(".filter-tag input:checked").attr("checked",!1);var t=location.pathname.match(/\/collections\/(.*)(\?)?/);t&&t[1]&&i(".filter-links a[href='"+t[0]+"']").addClass("active")},filterMapData:function(t){var e=i(".grid-uniform"),a=i(t).find(".grid-uniform");e.replaceWith(a),i(".pagination").length>0&&i(".pagination").replaceWith(i(t).find(".pagination")),i(".filter-blocks").replaceWith(i(t).find(".filter-blocks")),r.filterMapClear()},filterCreateUrl:function(t){var e=i.param(Shopify.queryParams).replace(/%2B/g,"+");return t?e!=""?t+"?"+e:t:location.pathname+"?"+e},filterAjaxClick:function(t){delete Shopify.queryParams.page;var e=r.filterCreateUrl(t);r.fillterClick=!0,History.pushState({param:Shopify.queryParams},e,e),r.filterGetContent(e)},filterGetContent:function(t){i.ajax({type:"get",url:t,beforeSend:function(){showPopup(".loading")},success:function(e){r.filterMapData(e),r.filterMapClear(),hidePopup(".loading")},error:function(e,a){hidePopup(".loading"),i(".ajax-error-message").text(i.parseJSON(e.responseText).description),showPopup(".ajax-error-modal")}})},initCollectionFilter:function(){i(".collection-sidebar").length>0&&(r.filterParams(),r.filterMapEvents(),r.filterMapClear(),r.filterMapClearAll())},initCollectionSorting:function(t){},initCollectionViewMode:function(){},initCollectionShow:function(){},initPaging:function(){}}})(jQuery);
//# sourceMappingURL=/s/files/1/1297/1661/t/15/assets/collection.js.map?v=94874883017892567841466758237
